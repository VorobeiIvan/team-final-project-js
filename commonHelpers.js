import{a,i as c}from"./assets/vendor-129bbf16.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();a.defaults.baseURL="https://your-energy.b.goit.study/api";const u="filters",d="exercises",m="quote",f="subscription",g=async({page:e=1,perPage:o=10,filter:n="Body parts"}={})=>await a.get(`/${u}?filter=${n}&page=${e}&limit=${o}`).then(t=>t.data),p=async({page:e=1,perPage:o=10,filter:n={}}={})=>await a.get(`/${d}?${new URLSearchParams(n).toString()}&page=${e}&limit=${o}`).then(t=>t.data),y=async()=>await a.get(`/${m}`).then(e=>e.data),h=async e=>await a.post(`/${f}`,{email:e}).then(o=>o.data),i={divQuote:document.getElementById("result-quote"),getQuoteButton:document.getElementById("quote"),divResult:document.getElementById("result"),filtersRef:document.getElementById("filters"),divExercises:document.getElementById("exercises"),getExercisesButton:document.getElementById("filters-exercises"),footerForm:document.querySelectorAll(".footer-form")},E=["Body parts","Muscles","Equipment"];E.forEach(e=>{const o=document.createElement("li"),n=document.createElement("button");n.innerHTML=e,o.appendChild(n),n.addEventListener("click",async()=>{const t=await g({page:1,perPage:10,filter:e});console.log(t),i.divResult.innerHTML=JSON.stringify(t.results)}),i.filtersRef.appendChild(o)});i.getExercisesButton.addEventListener("click",async()=>{const e=await p({page:1,perPage:10,filter:{keyword:"cable low seated row",bodypart:"back"}});console.log(e),i.divExercises.innerHTML=JSON.stringify(e.results)});i.getQuoteButton.addEventListener("click",async()=>{const e=await y();i.divQuote.innerHTML=JSON.stringify(e)});const w=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),L=e=>{e.preventDefault();const{email:o}=e.currentTarget.elements;if(!w(o.value.trim())){const t={title:"Error",message:"The email must be in format test@gmail.com",position:"topRight",color:"red"};return c.show(t)}const n=o.value.trim();h(n).then(t=>{if(t.message){const s={title:"Success",message:t.message,position:"topRight",color:"green"};return c.show(s)}}).catch(t=>{if(t.response&&t.response.status===409){const r={title:"Error",message:t.response.data.message,position:"topRight",color:"red"};return c.show(r)}const s={title:"Error",message:"Oops, something went wrong, try again later",position:"topRight",color:"red"};return c.show(s)}).finally(()=>i.footerForm.forEach(t=>t.reset()))};i.footerForm.forEach(e=>e.addEventListener("submit",L));
//# sourceMappingURL=commonHelpers.js.map
