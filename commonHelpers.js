import{a as c,i as l}from"./assets/vendor-129bbf16.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();c.defaults.baseURL="https://your-energy.b.goit.study/api";const g="filters",f="exercises",p="quote",y="subscription",E=async({page:e=1,perPage:o=10,filter:r="Muscles"}={})=>await c.get(`/${g}?filter=${r}&page=${e}&limit=${o}`).then(t=>t.data),h=async({page:e=1,perPage:o=10,filter:r={}}={})=>await c.get(`/${f}?${new URLSearchParams(r).toString()}&page=${e}&limit=${o}`).then(t=>t.data),L=async()=>await c.get(`/${p}`).then(e=>e.data),v=async e=>await c.post(`/${y}`,{email:e}).then(o=>o.data),i={divQuote:document.getElementById("result-quote"),getQuoteButton:document.getElementById("quote"),divCategories:document.getElementById("categories"),filtersRef:document.getElementById("filters"),divExercises:document.getElementById("exercises"),getExercisesButton:document.getElementById("filters-exercises"),footerForm:document.querySelectorAll(".footer-form")};async function u(e){const r=(await E({page:1,perPage:10,filter:e})).results.map(t=>{const s=b(t);return s.addEventListener("click",function(){console.log("Li element clicked!")}),s});i.divCategories.append(...r)}function b({name:e,filter:o,imgURL:r}){const t=document.createElement("li");t.className="category-item";const s=document.createElement("img");s.className="category-item-img",s.src=r,s.alt="Category",s.loading="lazy";const n=document.createElement("div");n.className="category-item-bg";const a=document.createElement("p");a.className="category-item-title",a.textContent=C(e);const d=document.createElement("p");return d.className="category-item-subtitle",d.textContent=o,n.appendChild(a),n.appendChild(d),t.appendChild(s),t.appendChild(n),t}function C(e){return e.charAt(0).toUpperCase()+e.slice(1)}const m=["Muscles","Body parts","Equipment"];u(m[0]);const w=B(m);i.filtersRef.append(...w);function B(e){return e.map(o=>{const r=document.createElement("li");r.setAttribute("id",o),o==="Muscles"&&r.classList.add("filter-selected");const t=document.createElement("button");return t.innerHTML=o,t.addEventListener("click",()=>{S(o,r)}),r.appendChild(t),r})}function S(e,o){const r=document.getElementsByClassName("filter-selected");r[0]&&(r[0].classList.remove("filter-selected"),o.classList.add("filter-selected"),i.divCategories.innerHTML="",u(e))}i.getExercisesButton.addEventListener("click",async()=>{const e=await h({page:1,perPage:10,filter:{keyword:"cable low seated row",bodypart:"back"}});console.log(e),i.divExercises.innerHTML=JSON.stringify(e.results)});i.getQuoteButton.addEventListener("click",async()=>{const e=await L();i.divQuote.innerHTML=JSON.stringify(e)});const M=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),N=e=>{e.preventDefault();const{email:o}=e.currentTarget.elements;if(!M(o.value.trim())){const t={title:"Error",message:"The email must be in format test@gmail.com",position:"topRight",color:"red"};return l.show(t)}const r=o.value.trim();v(r).then(t=>{if(t.message){const s={title:"Success",message:t.message,position:"topRight",color:"green"};return l.show(s)}}).catch(t=>{if(t.response&&t.response.status===409){const n={title:"Error",message:t.response.data.message,position:"topRight",color:"red"};return l.show(n)}const s={title:"Error",message:"Oops, something went wrong, try again later",position:"topRight",color:"red"};return l.show(s)}).finally(()=>i.footerForm.forEach(t=>t.reset()))};i.footerForm.forEach(e=>e.addEventListener("submit",N));
//# sourceMappingURL=commonHelpers.js.map
