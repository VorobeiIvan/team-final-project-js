{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/refs.js","../src/js/categories.js","../src/js/filters.js","../src/js/exercises.js","../src/js/quote.js","../src/js/footer.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://your-energy.b.goit.study/api';\n\nconst FILTERS = 'filters';\nconst EXERCISES = 'exercises';\nconst QUOTE = 'quote';\nconst SUBSCRIPTION = 'subscription';\n\n/**\n *  {page: number, perPage: number,  filter: 'Body parts' || 'Muscles' || 'Equipment'}\n */\n\nexport const fetchCategories = async ({\n  page = 1,\n  perPage = 10,\n  filter = 'Muscles',\n} = {}) =>\n  await axios\n    .get(`/${FILTERS}?filter=${filter}&page=${page}&limit=${perPage}`)\n    .then(response => response.data);\n\n/**\n *  {page: number, perPage: number, filter: {bodypart: string, muscles: string, equipment: string, keyword:string}}\n */\nexport const fetchExercises = async ({\n  page = 1,\n  perPage = 10,\n  filter = {},\n} = {}) =>\n  await axios\n    .get(\n      `/${EXERCISES}?${new URLSearchParams(\n        filter\n      ).toString()}&page=${page}&limit=${perPage}`\n    )\n    .then(response => response.data);\n\n/**\n *  id: string\n */\n\nexport const fetchOneExercise = async id =>\n  await axios.get(`/${EXERCISES}/${id}`).then(response => response.data);\n\nexport const fetchQuote = async () =>\n  await axios.get(`/${QUOTE}`).then(response => response.data);\n\n/**\n *  email: string\n */\nexport const postSubscription = async email =>\n  await axios\n    .post(`/${SUBSCRIPTION}`, { email })\n    .then(response => response.data);\n\n/**\n *  id: string\n *  data: {rate: number, email: string, review:string}\n */\nexport const editExercisesRating = async (id, data) =>\n  await axios\n    .patch(`/${EXERCISES}/${id}/rating`, data, {\n      headers: {\n        'content-type': 'application/json',\n      },\n    })\n    .then(response => response.data);\n","export default {\n  //ці змінні як приклад для подальшого використання\n  divQuote: document.getElementById('result-quote'),\n  getQuoteButton: document.getElementById('quote'),\n  divCategories: document.getElementById('categories'),\n  filtersRef: document.getElementById('filters'),\n  divExercises: document.getElementById('exercises'),\n  getExercisesButton: document.getElementById('filters-exercises'),\n  footerForm: document.querySelectorAll('.footer-form'),\n};\n","import { fetchCategories } from './api.js';\nimport refs from './refs.js';\n\nexport async function renderCategories(filter) {\n  const data = await fetchCategories({ page: 1, perPage: 10, filter: filter });\n\n  const categoriesToRender = data.results.map(category => {\n    const categoryElement = createCategory(category);\n\n    categoryElement.addEventListener('click', function () {\n      console.log('Li element clicked!');\n    });\n\n    return categoryElement;\n  });\n\n  refs.divCategories.append(...categoriesToRender);\n}\n\nfunction createCategory({ name, filter, imgURL }) {\n  const li = document.createElement('li');\n  li.className = 'category-item';\n\n  const img = document.createElement('img');\n  img.className = 'category-item-img';\n  img.src = imgURL;\n  img.alt = 'Category';\n  img.loading = 'lazy';\n\n  const div = document.createElement('div');\n  div.className = 'category-item-bg';\n\n  const title = document.createElement('p');\n  title.className = 'category-item-title';\n  title.textContent = capitalizeFirstLetter(name);\n\n  const subtitle = document.createElement('p');\n  subtitle.className = 'category-item-subtitle';\n  subtitle.textContent = filter;\n\n  div.appendChild(title);\n  div.appendChild(subtitle);\n  li.appendChild(img);\n  li.appendChild(div);\n\n  return li;\n}\n\nfunction capitalizeFirstLetter(inputString) {\n  return inputString.charAt(0).toUpperCase() + inputString.slice(1);\n}\n","import { renderCategories } from './categories.js';\nimport refs from './refs.js';\n\nconst filters = ['Muscles', 'Body parts', 'Equipment'];\n\nrenderCategories(filters[0]);\n\nconst filtersElements = renderFilters(filters);\n\nrefs.filtersRef.append(...filtersElements);\n\nfunction renderFilters(filters) {\n  return filters.map(filter => {\n    const li = document.createElement('li');\n    li.setAttribute('id', filter);\n    if (filter === 'Muscles') {\n      li.classList.add('filter-selected');\n    }\n\n    const button = document.createElement('button');\n    button.innerHTML = filter;\n    button.addEventListener('click', () => {\n      handleFilterClick(filter, li);\n    });\n\n    li.appendChild(button);\n\n    return li;\n  });\n}\n\nfunction handleFilterClick(filter, newActiveLink) {\n  const currentActiveLink = document.getElementsByClassName('filter-selected');\n\n  if (!currentActiveLink[0]) {\n    return;\n  }\n\n  currentActiveLink[0].classList.remove('filter-selected');\n  newActiveLink.classList.add('filter-selected');\n\n  refs.divCategories.innerHTML = '';\n\n  renderCategories(filter);\n}\n","import { fetchExercises } from './api.js';\nimport refs from './refs.js';\n\nrefs.getExercisesButton.addEventListener('click', async () => {\n  const data = await fetchExercises({\n    page: 1,\n    perPage: 10,\n    filter: { keyword: 'cable low seated row', bodypart: 'back' },\n  });\n  console.log(data);\n  refs.divExercises.innerHTML = JSON.stringify(data.results);\n});\n\n\n\n\n","import { fetchQuote } from './api.js';\nimport refs from './refs.js';\n\nrefs.getQuoteButton.addEventListener('click', async () => {\n  const data = await fetchQuote();\n  refs.divQuote.innerHTML = JSON.stringify(data);\n});","import { postSubscription } from './api';\nimport refs from './refs';\nimport iziToast from 'izitoast';\n\nconst validateEmail = (email) => {\n  const template = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return template.test(email);\n};\n\nconst handleSubmit = (event) => {\n\n  event.preventDefault();\n  const { email } = event.currentTarget.elements;\n  if (!validateEmail(email.value.trim())) {\n    const errorMessage = {\n      title: 'Error',\n      message: 'The email must be in format test@gmail.com',\n      position: 'topRight',\n      color: 'red',\n    };\n    return iziToast.show(errorMessage);\n  }\n  const userEmail = email.value.trim();\n  postSubscription(userEmail)\n    .then((response) => {\n\n      if (response.message) {\n        const successMessage = {\n          title: 'Success',\n          message: response.message,\n          position: 'topRight',\n          color: 'green',\n        };\n        return iziToast.show(successMessage);\n      }\n    })\n    .catch((error) => {\n      if (error.response && error.response.status === 409) {\n        const errorMessage = {\n          title: 'Error',\n          message: error.response.data.message,\n          position: 'topRight',\n          color: 'red',\n        };\n        return iziToast.show(errorMessage);\n      }\n      const errorMessage = {\n        title: 'Error',\n        message: 'Oops, something went wrong, try again later',\n        position: 'topRight',\n        color: 'red',\n      };\n      return iziToast.show(errorMessage);\n    })\n    .finally(() => refs.footerForm.forEach(form => form.reset()));\n};\n\nrefs.footerForm.forEach(form => form.addEventListener('submit', handleSubmit));"],"names":["axios","FILTERS","EXERCISES","QUOTE","SUBSCRIPTION","fetchCategories","page","perPage","filter","response","fetchExercises","fetchQuote","postSubscription","email","refs","renderCategories","categoriesToRender","category","categoryElement","createCategory","name","imgURL","li","img","div","title","capitalizeFirstLetter","subtitle","inputString","filters","filtersElements","renderFilters","button","handleFilterClick","newActiveLink","currentActiveLink","data","validateEmail","handleSubmit","event","errorMessage","iziToast","userEmail","successMessage","error","form"],"mappings":"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"}