{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/refs.js","../src/js/filters.js","../src/js/exercises.js","../src/js/quote.js","../src/js/footer.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://your-energy.b.goit.study/api';\n\nconst FILTERS = 'filters';\nconst EXERCISES = 'exercises';\nconst QUOTE = 'quote';\nconst SUBSCRIPTION = 'subscription';\n\n/**\n *  {page: number, perPage: number,  filter: 'Body parts' || 'Muscles' || 'Equipment'}\n */\n\nexport const fetchFilter = async ({ page = 1, perPage = 10, filter = 'Body parts' } = {}) => await axios\n  .get(`/${FILTERS}?filter=${filter}&page=${page}&limit=${perPage}`)\n  .then(response => response.data);\n\n\n/**\n *  {page: number, perPage: number, filter: {bodypart: string, muscles: string, equipment: string, keyword:string}}\n */\nexport const fetchExercises = async ({ page = 1, perPage = 10, filter = {} } = {}) =>\n  await axios\n    .get(`/${EXERCISES}?${new URLSearchParams(filter).toString()}&page=${page}&limit=${perPage}`)\n    .then(response => response.data);\n\n\n/**\n *  id: string\n */\n\nexport const fetchOneExercise = async (id) =>\n  await axios.get(`/${EXERCISES}/${id}`).then(response => response.data);\n\nexport const fetchQuote = async () => await axios.get(`/${QUOTE}`).then(response => response.data);\n\n\n/**\n *  email: string\n */\nexport const postSubscription = async (email) =>\n  await axios\n    .post(`/${SUBSCRIPTION}`, { email })\n    .then(response => response.data);\n\n/**\n *  id: string\n *  data: {rate: number, email: string, review:string}\n */\nexport const editExercisesRating = async (id, data) =>\n  await axios\n    .patch(`/${EXERCISES}/${id}/rating`, data, {\n      headers: {\n        'content-type': 'application/json',\n      },\n    })\n    .then(response => response.data);\n","export default {\n  //ці змінні як приклад для подальшого використання\n  divQuote: document.getElementById('result-quote'),\n  getQuoteButton: document.getElementById('quote'),\n  divResult: document.getElementById('result'),\n  filtersRef: document.getElementById('filters'),\n  divExercises: document.getElementById('exercises'),\n  getExercisesButton: document.getElementById('filters-exercises'),\n  footerForm: document.querySelectorAll('.footer-form'),\n};","import { fetchFilter } from './api.js';\nimport refs from './refs.js';\n\n\nconst filters = ['Body parts', 'Muscles', 'Equipment'];\n\nfilters.forEach(filter => {\n  const li = document.createElement('li');\n  const button = document.createElement('button');\n\n  button.innerHTML = filter;\n  li.appendChild(button);\n\n  button.addEventListener('click', async () => {\n    const data = await fetchFilter({ page: 1, perPage: 10, filter: filter });\n    console.log(data);\n    refs.divResult.innerHTML = JSON.stringify(data.results);\n  });\n  refs.filtersRef.appendChild(li);\n});\n","import { fetchExercises } from './api.js';\nimport refs from './refs.js';\n\nrefs.getExercisesButton.addEventListener('click', async () => {\n  const data = await fetchExercises({\n    page: 1,\n    perPage: 10,\n    filter: { keyword: 'cable low seated row', bodypart: 'back' },\n  });\n  console.log(data);\n  refs.divExercises.innerHTML = JSON.stringify(data.results);\n});\n\n\n\n\n","import { fetchQuote } from './api.js';\nimport refs from './refs.js';\n\nrefs.getQuoteButton.addEventListener('click', async () => {\n  const data = await fetchQuote();\n  refs.divQuote.innerHTML = JSON.stringify(data);\n});","import { postSubscription } from './api';\nimport refs from './refs';\nimport iziToast from 'izitoast';\n\nconst validateEmail = (email) => {\n  const template = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return template.test(email);\n};\n\nconst handleSubmit = (event) => {\n\n  event.preventDefault();\n  const { email } = event.currentTarget.elements;\n  if (!validateEmail(email.value.trim())) {\n    const errorMessage = {\n      title: 'Error',\n      message: 'The email must be in format test@gmail.com',\n      position: 'topRight',\n      color: 'red',\n    };\n    return iziToast.show(errorMessage);\n  }\n  const userEmail = email.value.trim();\n  postSubscription(userEmail)\n    .then((response) => {\n\n      if (response.message) {\n        const successMessage = {\n          title: 'Success',\n          message: response.message,\n          position: 'topRight',\n          color: 'green',\n        };\n        return iziToast.show(successMessage);\n      }\n    })\n    .catch((error) => {\n      if (error.response && error.response.status === 409) {\n        const errorMessage = {\n          title: 'Error',\n          message: error.response.data.message,\n          position: 'topRight',\n          color: 'red',\n        };\n        return iziToast.show(errorMessage);\n      }\n      const errorMessage = {\n        title: 'Error',\n        message: 'Oops, something went wrong, try again later',\n        position: 'topRight',\n        color: 'red',\n      };\n      return iziToast.show(errorMessage);\n    })\n    .finally(() => refs.footerForm.forEach(form => form.reset()));\n};\n\nrefs.footerForm.forEach(form => form.addEventListener('submit', handleSubmit));"],"names":["axios","FILTERS","EXERCISES","QUOTE","SUBSCRIPTION","fetchFilter","page","perPage","filter","response","fetchExercises","fetchQuote","postSubscription","email","refs","filters","li","button","data","validateEmail","handleSubmit","event","errorMessage","iziToast","userEmail","successMessage","error","form"],"mappings":"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"}